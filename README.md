learn c++ by project

## sgi_allocator

参考sgi STL的allocator写了一个allocator，并且与C++17的std::pmr相结合，可以直接在STL中使用，经测试发现性能不错。

此项目尤其适合纯新手。

## 🎯 学习知识点

通过这个项目，新手可以学习到以下重要的C++开发知识和技巧：

### 1. CMake现代构建系统
- **FetchContent的使用**: 学习如何使用CMake的FetchContent模块自动下载和管理第三方依赖库
- **多目标构建**: 如何在一个项目中同时构建库、测试和基准测试可执行文件
- **现代CMake最佳实践**: 使用target_include_directories、target_link_libraries等现代CMake命令
- **交叉编译支持**: 通过CMAKE_CXX_STANDARD设置C++标准版本

### 2. 单元测试与Google Test框架
- **测试驱动开发(TDD)**: 学习如何为内存分配器编写全面的单元测试
- **Google Test使用**: 掌握TEST宏、断言(ASSERT_*)的使用方法
- **测试用例设计**: 学习设计边界条件测试、异常情况测试等
- **测试覆盖率**: 理解如何确保代码的各个分支都被测试覆盖

### 3. 性能基准测试与Google Benchmark
- **性能测量**: 学习使用Google Benchmark框架进行准确的性能测试
- **基准测试设计**: 如何设计有意义的基准测试来比较不同实现的性能
- **参数化测试**: 使用Arg()方法测试不同规模的数据
- **性能分析**: 学习分析内存分配器的性能特征和瓶颈

### 4. 内存池实现技术
- **自由链表(Free List)**: 学习使用union实现高效的内存块管理
- **内存对齐处理**: 掌握内存对齐的计算方法和重要性(round_up函数)
- **大小分类**: 学习将不同大小的内存请求分类到不同的自由链表中
- **内存块分配策略**: 理解chunk_alloc中的内存分配和回收算法
- **异常安全**: 学习在内存分配失败时如何优雅地处理异常

### 5. C++17标准特性
- **Polymorphic Memory Resources (PMR)**: 深入学习C++17的内存资源抽象
- **std::pmr::memory_resource**: 实现自定义memory_resource接口
- **类型特征(Type Traits)**: 使用propagate_on_container_move_assignment等类型特征
- **内存对齐**: 使用alignof和alignment参数处理内存对齐

### 6. 分配器设计模式
- **STL分配器接口**: 学习标准分配器必须提供的接口和类型定义
- **模板元编程**: 使用模板实现泛型分配器
- **资源管理**: 学习RAII(Resource Acquisition Is Initialization)原则在分配器中的应用
- **线程安全性**: 理解单线程和多线程环境下的内存分配策略

### 7. 现代C++编程技巧
- **移动语义**: 学习分配器在容器移动操作时的行为
- **noexcept规范**: 正确使用noexcept保证异常安全
- **inline变量**: 使用inline定义全局函数和变量
- **类型别名**: 使用using定义类型别名提高代码可读性

### 8. 项目结构与代码组织
- **头文件与源文件分离**: 学习合理的代码组织方式
- **命名空间使用**: 使用命名空间避免命名冲突
- **示例代码**: 学习如何编写实用的使用示例
- **文档注释**: 掌握良好的代码注释习惯

## 🚀 实际应用价值

这个项目不仅是一个学习练习，还具有实际的应用价值：
- **高性能应用**: 在需要频繁内存分配的应用中提供更好的性能
- **嵌入式系统**: 在资源受限的环境中提供确定性的内存分配行为
- **游戏开发**: 为游戏引擎提供高效的内存管理
- **实时系统**: 满足实时系统对内存分配时间的严格要求

## 📚 进一步学习建议

完成这个项目后，建议继续学习：
1. **tcmalloc/jemalloc**: 研究工业级的内存分配器实现
2. **内存池优化**: 学习更高级的内存池优化技术
3. **多线程内存分配**: 研究线程本地存储(TLS)在多线程环境中的应用
4. **内存调试工具**: 学习使用valgrind、AddressSanitizer等工具调试内存问题

通过这个项目的学习，你将建立起对C++内存管理、现代构建系统、测试框架和性能优化的全面理解，为成为高级C++开发者打下坚实基础。